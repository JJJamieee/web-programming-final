{"ast":null,"code":"import _regeneratorRuntime from\"C:/my_data/109-1_Web Programming/web-programming-final/own/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/my_data/109-1_Web Programming/web-programming-final/own/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/my_data/109-1_Web Programming/web-programming-final/own/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import{useState,useEffect}from'react';import{NavLink,Switch,Route,Redirect}from\"react-router-dom\";import axios from'axios';import clsx from'clsx';import{makeStyles}from'@material-ui/core/styles';import Button from'@material-ui/core/Button';import Grid from'@material-ui/core/Grid';import TextField from'@material-ui/core/TextField';import FormControl from'@material-ui/core/FormControl';import Title from'./Title';import Afterlogin from'./Afterlogin';var API_ROOT='http://localhost:4000/api';var instance=axios.create({baseURL:API_ROOT});var useStyles=makeStyles(function(theme){return{formControl:{margin:theme.spacing(1),width:'100%'}};});export default function CreateGame(props){var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),back=_useState2[0],setBack=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),gameYear=_useState4[0],setGameYear=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),gameMonth=_useState6[0],setGameMonth=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),gameDate=_useState8[0],setGameDate=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),gameTime=_useState10[0],setGameTime=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),gameMatch=_useState12[0],setGameMatch=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),gamePlace=_useState14[0],setGamePlace=_useState14[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var dateString,transDate,_yield$instance$post,success;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();dateString=gameYear+\"-\"+gameMonth+\"-\"+gameDate;transDate=new Date(dateString);_context.next=5;return instance.post('/createGame',{'cupID':props.cupNum,'date':transDate,'time':gameTime,'match':gameMatch,'place':gamePlace,'score':\" \",'result':\" \"});case 5:_yield$instance$post=_context.sent;success=_yield$instance$post.data;setGameYear(\"\");setGameMonth(\"\");setGameDate(\"\");setGameTime(\"\");setGameMatch(\"\");setGamePlace(\"\");alert(\"新增比賽成功！\");case 14:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(Title,{children:\"\\u6BD4\\u8CFD\\u8CC7\\u6599\"}),/*#__PURE__*/_jsxs(FormControl,{className:classes.formControl,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,style:{height:100},children:/*#__PURE__*/_jsx(TextField,{required:true,id:\"year\",name:\"year\",label:\"\\u5E74 YYYY\",fullWidth:true,autoComplete:\"given-name\",value:gameYear,onInput:function onInput(e){return setGameYear(e.target.value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(TextField,{required:true,id:\"month\",name:\"month\",label:\"\\u6708 MM\",fullWidth:true,autoComplete:\"given-name\",value:gameMonth,onInput:function onInput(e){return setGameMonth(e.target.value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(TextField,{required:true,id:\"day\",name:\"day\",label:\"\\u65E5 DD\",fullWidth:true,autoComplete:\"given-name\",value:gameDate,onInput:function onInput(e){return setGameDate(e.target.value);}})})]}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"time\",name:\"time\",label:\"\\u6642\\u9593 XX:XX\",fullWidth:true,autoComplete:\"shipping address-line1\",style:{height:80},value:gameTime,onInput:function onInput(e){return setGameTime(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"match\",name:\"match\",label:\"\\u5C0D\\u6230\\u7D44\\u5408 XX\\u5C0DXX\",fullWidth:true,autoComplete:\"shipping address-line1\",style:{height:80},value:gameMatch,onInput:function onInput(e){return setGameMatch(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{required:true,id:\"place\",name:\"place\",label:\"\\u5730\\u9EDE\",fullWidth:true,autoComplete:\"shipping address-line1\",style:{height:60},value:gamePlace,onInput:function onInput(e){return setGamePlace(e.target.value);}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",className:classes.button,type:\"submit\",onClick:handleSubmit,children:\"\\u5EFA\\u7ACB\\u6BD4\\u8CFD\"})]})]});}","map":{"version":3,"sources":["C:/my_data/109-1_Web Programming/web-programming-final/own/src/CreateGame.js"],"names":["React","useState","useEffect","NavLink","Switch","Route","Redirect","axios","clsx","makeStyles","Button","Grid","TextField","FormControl","Title","Afterlogin","API_ROOT","instance","create","baseURL","useStyles","theme","formControl","margin","spacing","width","CreateGame","props","classes","back","setBack","gameYear","setGameYear","gameMonth","setGameMonth","gameDate","setGameDate","gameTime","setGameTime","gameMatch","setGameMatch","gamePlace","setGamePlace","handleSubmit","event","preventDefault","dateString","transDate","Date","post","cupNum","success","data","alert","height","e","target","value","button"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react'\r\nimport { NavLink, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport axios from 'axios'\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Title from './Title';\r\nimport Afterlogin from './Afterlogin';\r\n\r\nconst API_ROOT = 'http://localhost:4000/api'\r\nconst instance = axios.create({\r\n    baseURL: API_ROOT\r\n})\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        width: '100%'\r\n    },\r\n}));\r\n\r\nexport default function CreateGame(props) {\r\n    const classes = useStyles();\r\n    const [back, setBack] = useState(false)\r\n    const [gameYear, setGameYear] = useState(\"\")\r\n    const [gameMonth, setGameMonth] = useState(\"\")\r\n    const [gameDate, setGameDate] = useState(\"\")\r\n    const [gameTime, setGameTime] = useState(\"\")\r\n    const [gameMatch, setGameMatch] = useState(\"\")\r\n    const [gamePlace, setGamePlace] = useState(\"\")\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const dateString = gameYear + \"-\" + gameMonth + \"-\" + gameDate\r\n        const transDate = new Date(dateString)\r\n\r\n        const { data: success } = await instance.post('/createGame', {\r\n            'cupID': props.cupNum,\r\n            'date': transDate,\r\n            'time': gameTime,\r\n            'match': gameMatch,\r\n            'place': gamePlace,\r\n            'score': \" \",\r\n            'result': \" \"\r\n        })\r\n\r\n        setGameYear(\"\")\r\n        setGameMonth(\"\")\r\n        setGameDate(\"\")\r\n        setGameTime(\"\")\r\n        setGameMatch(\"\")\r\n        setGamePlace(\"\")\r\n        alert(\"新增比賽成功！\")\r\n    }\r\n\r\n    return (\r\n        <Grid item xs={12}>\r\n            <Title>比賽資料</Title>\r\n            <FormControl className={classes.formControl} onSubmit={handleSubmit}>\r\n                <Grid container spacing={3}>\r\n                    <Grid item xs={12} sm={4} style={{ height: 100 }}>\r\n                        <TextField\r\n                            required\r\n                            id=\"year\"\r\n                            name=\"year\"\r\n                            label=\"年 YYYY\"\r\n                            fullWidth\r\n                            autoComplete=\"given-name\"\r\n                            value={gameYear}\r\n                            onInput={e => setGameYear(e.target.value)}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={4}>\r\n                        <TextField\r\n                            required\r\n                            id=\"month\"\r\n                            name=\"month\"\r\n                            label=\"月 MM\"\r\n                            fullWidth\r\n                            autoComplete=\"given-name\"\r\n                            value={gameMonth}\r\n                            onInput={e => setGameMonth(e.target.value)}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={12} sm={4}>\r\n                        <TextField\r\n                            required\r\n                            id=\"day\"\r\n                            name=\"day\"\r\n                            label=\"日 DD\"\r\n                            fullWidth\r\n                            autoComplete=\"given-name\"\r\n                            value={gameDate}\r\n                            onInput={e => setGameDate(e.target.value)}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n                <TextField\r\n                    required\r\n                    id=\"time\"\r\n                    name=\"time\"\r\n                    label=\"時間 XX:XX\"\r\n                    fullWidth\r\n                    autoComplete=\"shipping address-line1\"\r\n                    style={{ height: 80 }}\r\n                    value={gameTime}\r\n                    onInput={e => setGameTime(e.target.value)}\r\n                />\r\n                <TextField\r\n                    required\r\n                    id=\"match\"\r\n                    name=\"match\"\r\n                    label=\"對戰組合 XX對XX\"\r\n                    fullWidth\r\n                    autoComplete=\"shipping address-line1\"\r\n                    style={{ height: 80 }}\r\n                    value={gameMatch}\r\n                    onInput={e => setGameMatch(e.target.value)}\r\n                />\r\n                <TextField\r\n                    required\r\n                    id=\"place\"\r\n                    name=\"place\"\r\n                    label=\"地點\"\r\n                    fullWidth\r\n                    autoComplete=\"shipping address-line1\"\r\n                    style={{ height: 60 }}\r\n                    value={gamePlace}\r\n                    onInput={e => setGamePlace(e.target.value)}\r\n                />\r\n                <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={classes.button}\r\n                    type=\"submit\"\r\n                    onClick={handleSubmit}\r\n                >\r\n                    建立比賽\r\n                        </Button>\r\n            </FormControl>\r\n        </Grid>\r\n\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}